<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/6b40bd379144f5c8.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-07dfb49dd72788a4.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-e4950b334bc218cf.js" async="" crossorigin=""></script><script src="/_next/static/chunks/472-23f435a9c16afa13.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-efee19f0ce613ad9.js" async="" crossorigin=""></script><script src="/_next/static/chunks/326-c01c22be8dcac7b1.js" async=""></script><script src="/_next/static/chunks/app/docs/%5B...slug%5D/page-f5028c860b0f5f1d.js" async=""></script><title>Engineering 101</title><meta name="description" content="SOLID + DDD training site"/><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="antialiased"><div class="flex min-h-screen bg-gray-50"><aside class="sidebar"><div class="sidebar-nav"><a class="text-lg font-semibold text-gray-900 mb-4 block hover:text-blue-600" href="/">← Engineering 101</a><h2 class="text-lg font-semibold text-gray-900 mb-4">Course Content</h2><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/1-SOLID-Principles">1-SOLID-Principles</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/0-README">0-README</a></li><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/1-Single-class-reponsibility-principle">1-Single-class-reponsibility-principle</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/1-Single-class-reponsibility-principle/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/2-Open-closed-principle">2-Open-closed-principle</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/2-Open-closed-principle/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/3-Liskov-substitution-principle">3-Liskov-substitution-principle</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/3-Liskov-substitution-principle/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/4-Interface-segregation-principle">4-Interface-segregation-principle</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/4-Interface-segregation-principle/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/5-Dependency-segregation-principle">5-Dependency-segregation-principle</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/5-Dependency-segregation-principle/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/reference-application">reference-application</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/reference-application/CI-README">CI-README</a></li><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/reference-application/Dotnet">Dotnet</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/reference-application/Dotnet/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/reference-application/Java">Java</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/reference-application/Java/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/reference-application/Python">Python</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/reference-application/Python/.pytest_cache">.pytest_cache</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/reference-application/Python/.pytest_cache/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/reference-application/Python/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/reference-application/README">README</a></li><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/reference-application/TypeScript">TypeScript</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/1-SOLID-Principles/reference-application/TypeScript/README">README</a></li></ul></div></li></ul></div></li></ul></div></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design">2-Domain-Driven-Design</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/0-README">0-README</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/1-Bounded-Contexts">1-Bounded-Contexts</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/1-Bounded-Contexts/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/1-introduction-to-the-domain">1-introduction-to-the-domain</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/2-Ubiquitous-Language">2-Ubiquitous-Language</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/2-Ubiquitous-Language/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/3-Domain-Models">3-Domain-Models</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/3-Domain-Models/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/4-Context-Mapping">4-Context-Mapping</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/4-Context-Mapping/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/5-Strategic-Patterns">5-Strategic-Patterns</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/5-Strategic-Patterns/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples">code-samples</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/README">README</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/csharp">csharp</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/csharp/02-order-entity">02-order-entity</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/csharp/03-money-value-object">03-money-value-object</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/csharp/04-email-address-value-object">04-email-address-value-object</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/csharp/05-pricing-service">05-pricing-service</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/csharp/06-customer-module">06-customer-module</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/csharp/07-order-tests">07-order-tests</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/csharp/08-money-tests">08-money-tests</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/csharp/09-pricing-service-tests">09-pricing-service-tests</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/csharp/11-testing-anti-patterns">11-testing-anti-patterns</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/csharp/12-testing-best-practices">12-testing-best-practices</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/csharp/13-domain-modeling-best-practices">13-domain-modeling-best-practices</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/csharp/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/introduction-to-the-domain">introduction-to-the-domain</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/java">java</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/java/02-money-value-object">02-money-value-object</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/java/03-inventory-service">03-inventory-service</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/java/03-order-entity">03-order-entity</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/java/04-email-address-value-object">04-email-address-value-object</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/java/04-order-tests">04-order-tests</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/java/05-pricing-service">05-pricing-service</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/java/06-customer-module">06-customer-module</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/java/07-order-tests">07-order-tests</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/java/08-money-tests">08-money-tests</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/java/09-pricing-service-tests">09-pricing-service-tests</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/java/11-testing-anti-patterns">11-testing-anti-patterns</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/java/12-testing-best-practices">12-testing-best-practices</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/java/13-domain-modeling-best-practices">13-domain-modeling-best-practices</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/java/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/python">python</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/python/02-money-value-object">02-money-value-object</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/python/03-order-entity">03-order-entity</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/python/04-email-address-value-object">04-email-address-value-object</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/python/05-pricing-service">05-pricing-service</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/python/06-customer-module">06-customer-module</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/python/07-order-tests">07-order-tests</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/python/08-money-tests">08-money-tests</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/python/09-pricing-service-tests">09-pricing-service-tests</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/python/11-testing-anti-patterns">11-testing-anti-patterns</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/python/12-testing-best-practices">12-testing-best-practices</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/python/13-domain-modeling-best-practices">13-domain-modeling-best-practices</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/python/README">README</a></li></ul></div></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/typescript">typescript</a><div class="ml-4 mt-1"><ul class="space-y-1"><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/typescript/02-money-value-object">02-money-value-object</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/typescript/03-order-entity">03-order-entity</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/typescript/04-email-address-value-object">04-email-address-value-object</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/typescript/05-pricing-service">05-pricing-service</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/typescript/06-customer-module">06-customer-module</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/typescript/07-order-tests">07-order-tests</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/typescript/08-money-tests">08-money-tests</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/typescript/09-pricing-service-tests">09-pricing-service-tests</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/typescript/11-testing-anti-patterns">11-testing-anti-patterns</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/typescript/12-testing-best-practices">12-testing-best-practices</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/typescript/13-domain-modeling-best-practices">13-domain-modeling-best-practices</a></li><li><a class="sidebar-item" href="/docs/2-Domain-Driven-Design/code-samples/typescript/README">README</a></li></ul></div></li></ul></div></li></ul></div></li></ul></div></aside><main class="main-content"><div class="content-wrapper"><div class="page-header"><h1 class="page-title">09-pricing-service-tests</h1></div><div class="prose prose-lg max-w-none"><div><h1>Pricing Service Tests - Python Example</h1>
<p><strong>Section</strong>: <a href="../../1-introduction-to-the-domain.md#testable-business-rules">Testable Business Rules</a></p>
<p><strong>Navigation</strong>: <a href="./08-money-tests.md">← Previous: Money Tests</a> | <a href="../../1-introduction-to-the-domain.md">← Back to Introduction</a> | <a href="./README.md">← Back to Python Index</a></p>
<hr>
<pre><code class="language-python"># Python Example - Pricing Service Tests (pytest) - Domain Service Testing
# File: 2-Domain-Driven-Design/code-samples/python/09-pricing-service-tests.py

import pytest
from unittest.mock import Mock, patch, MagicMock
from datetime import datetime

# Import the domain objects
from pricing_service import PricingService, TaxCalculator, ShippingCalculator
from order_entity import Order, OrderId, CustomerId, ProductId, Money, OrderItem
from customer_entity import Customer, CustomerStatus, CustomerId as CustomerIdType

class TestPricingService:
    &quot;&quot;&quot;Test class for PricingService domain service&quot;&quot;&quot;
    
    def test_calculate_order_total_with_active_customer(self):
        &quot;&quot;&quot;Test calculating order total for active customer&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        order = self._create_order_with_items()
        customer = self._create_active_customer()
        address = self._create_address()
        
        # Act
        total = pricing_service.calculate_order_total(order, customer, address)
        
        # Assert
        assert isinstance(total, Money)
        assert total.currency == &quot;USD&quot;
        assert total.amount &gt; 0
    
    def test_calculate_order_total_with_inactive_customer_raises_error(self):
        &quot;&quot;&quot;Test that calculating order total for inactive customer raises error&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        order = self._create_order_with_items()
        customer = self._create_inactive_customer()
        address = self._create_address()
        
        # Act &amp; Assert
        with pytest.raises(ValueError, match=&quot;Cannot calculate pricing for inactive customer&quot;):
            pricing_service.calculate_order_total(order, customer, address)
    
    def test_calculate_discount_amount_vip_customer(self):
        &quot;&quot;&quot;Test calculating discount amount for VIP customer&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        order = self._create_order_with_items()
        customer = self._create_vip_customer()
        
        # Act
        discount = pricing_service.calculate_discount_amount(order, customer)
        
        # Assert
        assert isinstance(discount, Money)
        assert discount.currency == &quot;USD&quot;
        assert discount.amount &gt; 0
    
    def test_calculate_discount_amount_premium_customer(self):
        &quot;&quot;&quot;Test calculating discount amount for premium customer&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        order = self._create_order_with_items()
        customer = self._create_premium_customer()
        
        # Act
        discount = pricing_service.calculate_discount_amount(order, customer)
        
        # Assert
        assert isinstance(discount, Money)
        assert discount.currency == &quot;USD&quot;
        assert discount.amount &gt; 0
    
    def test_calculate_discount_amount_standard_customer(self):
        &quot;&quot;&quot;Test calculating discount amount for standard customer&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        order = self._create_order_with_items()
        customer = self._create_standard_customer()
        
        # Act
        discount = pricing_service.calculate_discount_amount(order, customer)
        
        # Assert
        assert isinstance(discount, Money)
        assert discount.currency == &quot;USD&quot;
        assert discount.amount &gt; 0
    
    def test_calculate_discount_amount_basic_customer(self):
        &quot;&quot;&quot;Test calculating discount amount for basic customer&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        order = self._create_order_with_items()
        customer = self._create_basic_customer()
        
        # Act
        discount = pricing_service.calculate_discount_amount(order, customer)
        
        # Assert
        assert isinstance(discount, Money)
        assert discount.currency == &quot;USD&quot;
        assert discount.amount == 0  # Basic customers get no discount
    
    def test_get_available_discounts(self):
        &quot;&quot;&quot;Test getting available discounts for an order&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        order = self._create_order_with_items()
        customer = self._create_vip_customer()
        
        # Act
        discounts = pricing_service.get_available_discounts(order, customer)
        
        # Assert
        assert isinstance(discounts, list)
        assert len(discounts) &gt; 0
        
        for discount in discounts:
            assert hasattr(discount, &#39;id&#39;)
            assert hasattr(discount, &#39;name&#39;)
            assert hasattr(discount, &#39;type&#39;)
            assert hasattr(discount, &#39;value&#39;)
            assert hasattr(discount, &#39;description&#39;)
    
    def test_apply_customer_discount_vip(self):
        &quot;&quot;&quot;Test applying VIP customer discount&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        amount = Money(100.00, &quot;USD&quot;)
        customer = self._create_vip_customer()
        
        # Act
        discounted_amount = pricing_service._apply_customer_discount(amount, customer)
        
        # Assert
        assert discounted_amount.amount == 85.00  # 15% discount
        assert discounted_amount.currency == &quot;USD&quot;
    
    def test_apply_customer_discount_premium(self):
        &quot;&quot;&quot;Test applying premium customer discount&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        amount = Money(100.00, &quot;USD&quot;)
        customer = self._create_premium_customer()
        
        # Act
        discounted_amount = pricing_service._apply_customer_discount(amount, customer)
        
        # Assert
        assert discounted_amount.amount == 90.00  # 10% discount
        assert discounted_amount.currency == &quot;USD&quot;
    
    def test_apply_customer_discount_standard(self):
        &quot;&quot;&quot;Test applying standard customer discount&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        amount = Money(100.00, &quot;USD&quot;)
        customer = self._create_standard_customer()
        
        # Act
        discounted_amount = pricing_service._apply_customer_discount(amount, customer)
        
        # Assert
        assert discounted_amount.amount == 95.00  # 5% discount
        assert discounted_amount.currency == &quot;USD&quot;
    
    def test_apply_bulk_discount_over_1000(self):
        &quot;&quot;&quot;Test applying bulk discount for orders over $1000&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        amount = Money(1200.00, &quot;USD&quot;)
        order = self._create_order_with_amount(1200.00)
        
        # Act
        discounted_amount = pricing_service._apply_bulk_discount(amount, order)
        
        # Assert
        assert discounted_amount.amount == 1080.00  # 10% discount
        assert discounted_amount.currency == &quot;USD&quot;
    
    def test_apply_bulk_discount_over_500(self):
        &quot;&quot;&quot;Test applying bulk discount for orders over $500&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        amount = Money(600.00, &quot;USD&quot;)
        order = self._create_order_with_amount(600.00)
        
        # Act
        discounted_amount = pricing_service._apply_bulk_discount(amount, order)
        
        # Assert
        assert discounted_amount.amount == 570.00  # 5% discount
        assert discounted_amount.currency == &quot;USD&quot;
    
    def test_apply_bulk_discount_over_100(self):
        &quot;&quot;&quot;Test applying bulk discount for orders over $100&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        amount = Money(150.00, &quot;USD&quot;)
        order = self._create_order_with_amount(150.00)
        
        # Act
        discounted_amount = pricing_service._apply_bulk_discount(amount, order)
        
        # Assert
        assert discounted_amount.amount == 147.00  # 2% discount
        assert discounted_amount.currency == &quot;USD&quot;
    
    def test_apply_bulk_discount_under_100(self):
        &quot;&quot;&quot;Test applying bulk discount for orders under $100&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        amount = Money(50.00, &quot;USD&quot;)
        order = self._create_order_with_amount(50.00)
        
        # Act
        discounted_amount = pricing_service._apply_bulk_discount(amount, order)
        
        # Assert
        assert discounted_amount.amount == 50.00  # No discount
        assert discounted_amount.currency == &quot;USD&quot;
    
    def test_apply_shipping_discount_over_50(self):
        &quot;&quot;&quot;Test applying shipping discount for orders over $50&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        shipping = Money(5.99, &quot;USD&quot;)
        order_amount = Money(75.00, &quot;USD&quot;)
        
        # Act
        discounted_shipping = pricing_service._apply_shipping_discount(shipping, order_amount)
        
        # Assert
        assert discounted_shipping.amount == 0.00  # Free shipping
        assert discounted_shipping.currency == &quot;USD&quot;
    
    def test_apply_shipping_discount_over_25(self):
        &quot;&quot;&quot;Test applying shipping discount for orders over $25&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        shipping = Money(5.99, &quot;USD&quot;)
        order_amount = Money(30.00, &quot;USD&quot;)
        
        # Act
        discounted_shipping = pricing_service._apply_shipping_discount(shipping, order_amount)
        
        # Assert
        assert discounted_shipping.amount == 2.995  # 50% off shipping
        assert discounted_shipping.currency == &quot;USD&quot;
    
    def test_apply_shipping_discount_under_25(self):
        &quot;&quot;&quot;Test applying shipping discount for orders under $25&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        shipping = Money(5.99, &quot;USD&quot;)
        order_amount = Money(20.00, &quot;USD&quot;)
        
        # Act
        discounted_shipping = pricing_service._apply_shipping_discount(shipping, order_amount)
        
        # Assert
        assert discounted_shipping.amount == 5.99  # No discount
        assert discounted_shipping.currency == &quot;USD&quot;
    
    def test_get_customer_discount_rate(self):
        &quot;&quot;&quot;Test getting customer discount rate&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        
        # Act &amp; Assert
        assert pricing_service._get_customer_discount_rate(&quot;VIP&quot;) == 0.15
        assert pricing_service._get_customer_discount_rate(&quot;Premium&quot;) == 0.10
        assert pricing_service._get_customer_discount_rate(&quot;Standard&quot;) == 0.05
        assert pricing_service._get_customer_discount_rate(&quot;Basic&quot;) == 0.0
        assert pricing_service._get_customer_discount_rate(&quot;Unknown&quot;) == 0.0
    
    def test_get_customer_type_discount_vip(self):
        &quot;&quot;&quot;Test getting customer type discount for VIP customer&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        customer = self._create_vip_customer()
        
        # Act
        discount = pricing_service._get_customer_type_discount(customer)
        
        # Assert
        assert discount is not None
        assert discount.name == &quot;VIP Customer Discount&quot;
        assert discount.type == &quot;percentage&quot;
        assert discount.value == 0.15
        assert &quot;VIP&quot; in discount.description
    
    def test_get_customer_type_discount_basic(self):
        &quot;&quot;&quot;Test getting customer type discount for basic customer&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        customer = self._create_basic_customer()
        
        # Act
        discount = pricing_service._get_customer_type_discount(customer)
        
        # Assert
        assert discount is None  # Basic customers get no discount
    
    def test_get_bulk_discount_over_1000(self):
        &quot;&quot;&quot;Test getting bulk discount for orders over $1000&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        order = self._create_order_with_amount(1200.00)
        
        # Act
        discount = pricing_service._get_bulk_discount(order)
        
        # Assert
        assert discount is not None
        assert discount.name == &quot;Bulk Discount&quot;
        assert discount.type == &quot;percentage&quot;
        assert discount.value == 0.10
        assert &quot;10%&quot; in discount.description
    
    def test_get_bulk_discount_over_500(self):
        &quot;&quot;&quot;Test getting bulk discount for orders over $500&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        order = self._create_order_with_amount(600.00)
        
        # Act
        discount = pricing_service._get_bulk_discount(order)
        
        # Assert
        assert discount is not None
        assert discount.name == &quot;Bulk Discount&quot;
        assert discount.type == &quot;percentage&quot;
        assert discount.value == 0.05
        assert &quot;5%&quot; in discount.description
    
    def test_get_bulk_discount_under_500(self):
        &quot;&quot;&quot;Test getting bulk discount for orders under $500&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        order = self._create_order_with_amount(300.00)
        
        # Act
        discount = pricing_service._get_bulk_discount(order)
        
        # Assert
        assert discount is None  # No bulk discount
    
    def test_get_seasonal_discount_holiday_season(self):
        &quot;&quot;&quot;Test getting seasonal discount during holiday season&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        
        # Mock datetime to return December
        with patch(&#39;pricing_service.datetime&#39;) as mock_datetime:
            mock_datetime.now.return_value.month = 12
            
            # Act
            discount = pricing_service._get_seasonal_discount()
            
            # Assert
            assert discount is not None
            assert discount.name == &quot;Holiday Discount&quot;
            assert discount.type == &quot;percentage&quot;
            assert discount.value == 0.08
            assert &quot;holiday&quot; in discount.description.lower()
    
    def test_get_seasonal_discount_non_holiday_season(self):
        &quot;&quot;&quot;Test getting seasonal discount during non-holiday season&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        
        # Mock datetime to return March
        with patch(&#39;pricing_service.datetime&#39;) as mock_datetime:
            mock_datetime.now.return_value.month = 3
            
            # Act
            discount = pricing_service._get_seasonal_discount()
            
            # Assert
            assert discount is None  # No seasonal discount
    
    def test_get_product_discounts_sale_items(self):
        &quot;&quot;&quot;Test getting product discounts for sale items&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        order = self._create_order_with_sale_items()
        
        # Act
        discounts = pricing_service._get_product_discounts(order)
        
        # Assert
        assert len(discounts) &gt; 0
        for discount in discounts:
            assert discount.name == &quot;Sale Item Discount&quot;
            assert discount.type == &quot;percentage&quot;
            assert discount.value == 0.20
            assert &quot;sale&quot; in discount.description.lower()
    
    def test_get_product_discounts_no_sale_items(self):
        &quot;&quot;&quot;Test getting product discounts for non-sale items&quot;&quot;&quot;
        # Arrange
        pricing_service = PricingService()
        order = self._create_order_with_items()
        
        # Act
        discounts = pricing_service._get_product_discounts(order)
        
        # Assert
        assert len(discounts) == 0  # No sale items
    
    # Helper methods
    def _create_order_with_items(self):
        &quot;&quot;&quot;Create order with items for testing&quot;&quot;&quot;
        order = MockOrder()
        order.total_amount = Money(100.00, &quot;USD&quot;)
        order.items = [
            MockOrderItem(ProductId(&quot;product-1&quot;), 2, Money(15.99, &quot;USD&quot;)),
            MockOrderItem(ProductId(&quot;product-2&quot;), 1, Money(25.50, &quot;USD&quot;))
        ]
        return order
    
    def _create_order_with_amount(self, amount):
        &quot;&quot;&quot;Create order with specific amount for testing&quot;&quot;&quot;
        order = MockOrder()
        order.total_amount = Money(amount, &quot;USD&quot;)
        order.items = []
        return order
    
    def _create_order_with_sale_items(self):
        &quot;&quot;&quot;Create order with sale items for testing&quot;&quot;&quot;
        order = MockOrder()
        order.total_amount = Money(100.00, &quot;USD&quot;)
        order.items = [
            MockOrderItem(ProductId(&quot;SALE-product-1&quot;), 2, Money(15.99, &quot;USD&quot;)),
            MockOrderItem(ProductId(&quot;SALE-product-2&quot;), 1, Money(25.50, &quot;USD&quot;))
        ]
        return order
    
    def _create_active_customer(self):
        &quot;&quot;&quot;Create active customer for testing&quot;&quot;&quot;
        customer = MockCustomer()
        customer.customer_type = &quot;Standard&quot;
        customer.is_active.return_value = True
        return customer
    
    def _create_inactive_customer(self):
        &quot;&quot;&quot;Create inactive customer for testing&quot;&quot;&quot;
        customer = MockCustomer()
        customer.customer_type = &quot;Standard&quot;
        customer.is_active.return_value = False
        return customer
    
    def _create_vip_customer(self):
        &quot;&quot;&quot;Create VIP customer for testing&quot;&quot;&quot;
        customer = MockCustomer()
        customer.customer_type = &quot;VIP&quot;
        customer.is_active.return_value = True
        return customer
    
    def _create_premium_customer(self):
        &quot;&quot;&quot;Create premium customer for testing&quot;&quot;&quot;
        customer = MockCustomer()
        customer.customer_type = &quot;Premium&quot;
        customer.is_active.return_value = True
        return customer
    
    def _create_standard_customer(self):
        &quot;&quot;&quot;Create standard customer for testing&quot;&quot;&quot;
        customer = MockCustomer()
        customer.customer_type = &quot;Standard&quot;
        customer.is_active.return_value = True
        return customer
    
    def _create_basic_customer(self):
        &quot;&quot;&quot;Create basic customer for testing&quot;&quot;&quot;
        customer = MockCustomer()
        customer.customer_type = &quot;Basic&quot;
        customer.is_active.return_value = True
        return customer
    
    def _create_address(self):
        &quot;&quot;&quot;Create address for testing&quot;&quot;&quot;
        address = MockAddress()
        address.country = &quot;US&quot;
        address.state = &quot;CA&quot;
        return address

class TestTaxCalculator:
    &quot;&quot;&quot;Test class for TaxCalculator domain service&quot;&quot;&quot;
    
    def test_calculate_tax_us_california(self):
        &quot;&quot;&quot;Test calculating tax for US California&quot;&quot;&quot;
        # Arrange
        tax_calculator = TaxCalculator()
        amount = Money(100.00, &quot;USD&quot;)
        address = MockAddress()
        address.country = &quot;US&quot;
        address.state = &quot;CA&quot;
        
        # Act
        tax = tax_calculator.calculate_tax(amount, address)
        
        # Assert
        assert tax.amount == 8.00  # 8% tax
        assert tax.currency == &quot;USD&quot;
    
    def test_calculate_tax_us_texas(self):
        &quot;&quot;&quot;Test calculating tax for US Texas&quot;&quot;&quot;
        # Arrange
        tax_calculator = TaxCalculator()
        amount = Money(100.00, &quot;USD&quot;)
        address = MockAddress()
        address.country = &quot;US&quot;
        address.state = &quot;TX&quot;
        
        # Act
        tax = tax_calculator.calculate_tax(amount, address)
        
        # Assert
        assert tax.amount == 8.00  # 8% tax
        assert tax.currency == &quot;USD&quot;
    
    def test_calculate_tax_us_other_state(self):
        &quot;&quot;&quot;Test calculating tax for US other state&quot;&quot;&quot;
        # Arrange
        tax_calculator = TaxCalculator()
        amount = Money(100.00, &quot;USD&quot;)
        address = MockAddress()
        address.country = &quot;US&quot;
        address.state = &quot;NY&quot;
        
        # Act
        tax = tax_calculator.calculate_tax(amount, address)
        
        # Assert
        assert tax.amount == 6.00  # 6% tax
        assert tax.currency == &quot;USD&quot;
    
    def test_calculate_tax_canada_ontario(self):
        &quot;&quot;&quot;Test calculating tax for Canada Ontario&quot;&quot;&quot;
        # Arrange
        tax_calculator = TaxCalculator()
        amount = Money(100.00, &quot;USD&quot;)
        address = MockAddress()
        address.country = &quot;CA&quot;
        address.province = &quot;ON&quot;
        
        # Act
        tax = tax_calculator.calculate_tax(amount, address)
        
        # Assert
        assert tax.amount == 13.00  # 13% HST
        assert tax.currency == &quot;USD&quot;
    
    def test_calculate_tax_canada_other_province(self):
        &quot;&quot;&quot;Test calculating tax for Canada other province&quot;&quot;&quot;
        # Arrange
        tax_calculator = TaxCalculator()
        amount = Money(100.00, &quot;USD&quot;)
        address = MockAddress()
        address.country = &quot;CA&quot;
        address.province = &quot;QC&quot;
        
        # Act
        tax = tax_calculator.calculate_tax(amount, address)
        
        # Assert
        assert tax.amount == 15.00  # 15% HST
        assert tax.currency == &quot;USD&quot;
    
    def test_calculate_tax_international(self):
        &quot;&quot;&quot;Test calculating tax for international address&quot;&quot;&quot;
        # Arrange
        tax_calculator = TaxCalculator()
        amount = Money(100.00, &quot;USD&quot;)
        address = MockAddress()
        address.country = &quot;UK&quot;
        
        # Act
        tax = tax_calculator.calculate_tax(amount, address)
        
        # Assert
        assert tax.amount == 0.00  # No tax for international
        assert tax.currency == &quot;USD&quot;

class TestShippingCalculator:
    &quot;&quot;&quot;Test class for ShippingCalculator domain service&quot;&quot;&quot;
    
    def test_calculate_shipping_us(self):
        &quot;&quot;&quot;Test calculating shipping for US address&quot;&quot;&quot;
        # Arrange
        shipping_calculator = ShippingCalculator()
        order = self._create_order_with_items()
        address = MockAddress()
        address.country = &quot;US&quot;
        
        # Act
        shipping = shipping_calculator.calculate_shipping(order, address)
        
        # Assert
        assert shipping.amount &gt;= 5.99  # Base shipping
        assert shipping.currency == &quot;USD&quot;
    
    def test_calculate_shipping_canada(self):
        &quot;&quot;&quot;Test calculating shipping for Canada address&quot;&quot;&quot;
        # Arrange
        shipping_calculator = ShippingCalculator()
        order = self._create_order_with_items()
        address = MockAddress()
        address.country = &quot;CA&quot;
        
        # Act
        shipping = shipping_calculator.calculate_shipping(order, address)
        
        # Assert
        assert shipping.amount &gt;= 8.99  # Base shipping
        assert shipping.currency == &quot;USD&quot;
    
    def test_calculate_shipping_international(self):
        &quot;&quot;&quot;Test calculating shipping for international address&quot;&quot;&quot;
        # Arrange
        shipping_calculator = ShippingCalculator()
        order = self._create_order_with_items()
        address = MockAddress()
        address.country = &quot;UK&quot;
        
        # Act
        shipping = shipping_calculator.calculate_shipping(order, address)
        
        # Assert
        assert shipping.amount &gt;= 15.99  # Base shipping
        assert shipping.currency == &quot;USD&quot;
    
    def test_calculate_shipping_with_weight_charge(self):
        &quot;&quot;&quot;Test calculating shipping with weight charge&quot;&quot;&quot;
        # Arrange
        shipping_calculator = ShippingCalculator()
        order = self._create_heavy_order()
        address = MockAddress()
        address.country = &quot;US&quot;
        
        # Act
        shipping = shipping_calculator.calculate_shipping(order, address)
        
        # Assert
        assert shipping.amount &gt; 5.99  # Base shipping + weight charge
        assert shipping.currency == &quot;USD&quot;
    
    def test_calculate_shipping_with_distance_charge(self):
        &quot;&quot;&quot;Test calculating shipping with distance charge&quot;&quot;&quot;
        # Arrange
        shipping_calculator = ShippingCalculator()
        order = self._create_order_with_items()
        address = MockAddress()
        address.country = &quot;US&quot;
        address.state = &quot;AK&quot;  # Alaska
        
        # Act
        shipping = shipping_calculator.calculate_shipping(order, address)
        
        # Assert
        assert shipping.amount &gt; 5.99  # Base shipping + distance charge
        assert shipping.currency == &quot;USD&quot;
    
    def _create_order_with_items(self):
        &quot;&quot;&quot;Create order with items for testing&quot;&quot;&quot;
        order = MockOrder()
        order.items = [
            MockOrderItem(ProductId(&quot;product-1&quot;), 2, Money(15.99, &quot;USD&quot;)),
            MockOrderItem(ProductId(&quot;product-2&quot;), 1, Money(25.50, &quot;USD&quot;))
        ]
        return order
    
    def _create_heavy_order(self):
        &quot;&quot;&quot;Create heavy order for testing&quot;&quot;&quot;
        order = MockOrder()
        order.items = [
            MockOrderItem(ProductId(&quot;product-1&quot;), 50, Money(15.99, &quot;USD&quot;))  # Heavy order
        ]
        return order

# Mock classes for testing
class MockOrder:
    &quot;&quot;&quot;Mock order for testing&quot;&quot;&quot;
    def __init__(self):
        self.total_amount = Money(100.00, &quot;USD&quot;)
        self.items = []

class MockOrderItem:
    &quot;&quot;&quot;Mock order item for testing&quot;&quot;&quot;
    def __init__(self, product_id, quantity, unit_price):
        self.product_id = product_id
        self.quantity = quantity
        self.unit_price = unit_price

class MockCustomer:
    &quot;&quot;&quot;Mock customer for testing&quot;&quot;&quot;
    def __init__(self):
        self.customer_type = &quot;Standard&quot;
        self.is_active = Mock(return_value=True)

class MockAddress:
    &quot;&quot;&quot;Mock address for testing&quot;&quot;&quot;
    def __init__(self):
        self.country = &quot;US&quot;
        self.state = &quot;CA&quot;
        self.province = None

# Test fixtures
@pytest.fixture
def pricing_service():
    &quot;&quot;&quot;Fixture for creating pricing service&quot;&quot;&quot;
    return PricingService()

@pytest.fixture
def tax_calculator():
    &quot;&quot;&quot;Fixture for creating tax calculator&quot;&quot;&quot;
    return TaxCalculator()

@pytest.fixture
def shipping_calculator():
    &quot;&quot;&quot;Fixture for creating shipping calculator&quot;&quot;&quot;
    return ShippingCalculator()

# Parametrized tests
@pytest.mark.parametrize(&quot;customer_type,expected_discount_rate&quot;, [
    (&quot;VIP&quot;, 0.15),
    (&quot;Premium&quot;, 0.10),
    (&quot;Standard&quot;, 0.05),
    (&quot;Basic&quot;, 0.0),
    (&quot;Unknown&quot;, 0.0)
])
def test_customer_discount_rates(customer_type, expected_discount_rate):
    &quot;&quot;&quot;Test customer discount rates with different parameters&quot;&quot;&quot;
    # Arrange
    pricing_service = PricingService()
    
    # Act
    discount_rate = pricing_service._get_customer_discount_rate(customer_type)
    
    # Assert
    assert discount_rate == expected_discount_rate

@pytest.mark.parametrize(&quot;order_amount,expected_discount_rate&quot;, [
    (1200.0, 0.10),
    (600.0, 0.05),
    (150.0, 0.02),
    (50.0, 0.0)
])
def test_bulk_discount_rates(order_amount, expected_discount_rate):
    &quot;&quot;&quot;Test bulk discount rates with different parameters&quot;&quot;&quot;
    # Arrange
    pricing_service = PricingService()
    order = MockOrder()
    order.total_amount = Money(order_amount, &quot;USD&quot;)
    
    # Act
    discount = pricing_service._get_bulk_discount(order)
    
    # Assert
    if expected_discount_rate &gt; 0:
        assert discount is not None
        assert discount.value == expected_discount_rate
    else:
        assert discount is None

@pytest.mark.parametrize(&quot;order_amount,expected_shipping_discount&quot;, [
    (75.0, 0.0),  # Free shipping
    (30.0, 0.5),  # 50% off shipping
    (20.0, 1.0)   # No discount
])
def test_shipping_discount_rates(order_amount, expected_shipping_discount):
    &quot;&quot;&quot;Test shipping discount rates with different parameters&quot;&quot;&quot;
    # Arrange
    pricing_service = PricingService()
    shipping = Money(5.99, &quot;USD&quot;)
    order_amount_obj = Money(order_amount, &quot;USD&quot;)
    
    # Act
    discounted_shipping = pricing_service._apply_shipping_discount(shipping, order_amount_obj)
    
    # Assert
    if expected_shipping_discount == 0.0:
        assert discounted_shipping.amount == 0.0
    elif expected_shipping_discount == 0.5:
        assert discounted_shipping.amount == 2.995
    else:
        assert discounted_shipping.amount == 5.99
</code></pre>
<h2>Key Concepts Demonstrated</h2>
<h3>Testable Business Rules</h3>
<h4>1. <strong>Domain Service Testing</strong></h4>
<ul>
<li>✅ Tests focus on business logic without external dependencies</li>
<li>✅ Complex business rules are tested in isolation</li>
<li>✅ Service behavior is verified through comprehensive test cases</li>
</ul>
<h4>2. <strong>Business Rule Validation</strong></h4>
<ul>
<li>✅ Tests verify business rules are enforced correctly</li>
<li>✅ Different customer types get appropriate discounts</li>
<li>✅ Bulk discounts are applied based on order amounts</li>
</ul>
<h4>3. <strong>Service Composition Testing</strong></h4>
<ul>
<li>✅ Individual services (TaxCalculator, ShippingCalculator) are tested</li>
<li>✅ Service interactions are verified</li>
<li>✅ Complex calculations are broken down into testable components</li>
</ul>
<h4>4. <strong>Mock Usage</strong></h4>
<ul>
<li>✅ External dependencies are mocked for isolated testing</li>
<li>✅ Test data is created using helper methods</li>
<li>✅ Tests focus on business logic, not infrastructure</li>
</ul>
<h3>Pricing Service Testing Principles</h3>
<h4><strong>Test Business Rules</strong></h4>
<ul>
<li>✅ Customer discount rates are tested for all customer types</li>
<li>✅ Bulk discount thresholds are verified</li>
<li>✅ Shipping discount rules are tested</li>
</ul>
<h4><strong>Test Edge Cases</strong></h4>
<ul>
<li>✅ Boundary conditions (exactly $100, $500, $1000)</li>
<li>✅ Error conditions (inactive customers)</li>
<li>✅ Different address types (US, Canada, International)</li>
</ul>
<h4><strong>Test Service Composition</strong></h4>
<ul>
<li>✅ Individual services are tested separately</li>
<li>✅ Service interactions are verified</li>
<li>✅ Complex calculations are broken down</li>
</ul>
<h4><strong>Test Mocking</strong></h4>
<ul>
<li>✅ External dependencies are properly mocked</li>
<li>✅ Test data is created using helper methods</li>
<li>✅ Tests remain focused on business logic</li>
</ul>
<h3>Python Testing Benefits</h3>
<ul>
<li><strong>pytest</strong>: Powerful testing framework with fixtures and parametrization</li>
<li><strong>unittest.mock</strong>: Built-in mocking capabilities</li>
<li><strong>Type Hints</strong>: Better IDE support and documentation</li>
<li><strong>Fixtures</strong>: Reusable test data and setup</li>
<li><strong>Parametrized Tests</strong>: Test multiple scenarios efficiently</li>
<li><strong>Error Handling</strong>: Clear exception messages for business rules</li>
</ul>
<h3>Common Anti-Patterns to Avoid</h3>
<h4><strong>Testing Implementation Details</strong></h4>
<ul>
<li>❌ Tests that verify internal implementation</li>
<li>❌ Tests that break when implementation changes</li>
<li>❌ Tests that don&#39;t verify business behavior</li>
</ul>
<h4><strong>Over-Mocking</strong></h4>
<ul>
<li>❌ Mocking everything instead of testing real behavior</li>
<li>❌ Tests that don&#39;t verify actual business logic</li>
<li>❌ Tests that are hard to maintain</li>
</ul>
<h4><strong>Incomplete Test Coverage</strong></h4>
<ul>
<li>❌ Tests that don&#39;t cover all business rules</li>
<li>❌ Tests that miss edge cases</li>
<li>❌ Tests that don&#39;t verify error conditions</li>
</ul>
<h2>Related Concepts</h2>
<ul>
<li><a href="./05-pricing-service.md">Pricing Service</a> - Service being tested</li>
<li><a href="./07-order-tests.md">Order Tests</a> - Tests that use Pricing Service</li>
<li><a href="./08-money-tests.md">Money Tests</a> - Tests for Money value object</li>
<li><a href="../../1-introduction-to-the-domain.md#testable-business-rules">Testable Business Rules</a> - Testing concepts</li>
</ul>
<p>/*</p>
<ul>
<li>Navigation:</li>
<li>Previous: 08-money-tests.md</li>
<li>Next: 10-customer-service-tests.md</li>
<li></li>
<li>Back to: <a href="../../1-introduction-to-the-domain.md#testable-business-rules">Testable Business Rules</a><br> */</li>
</ul>
</div></div></div></main></div><script src="/_next/static/chunks/webpack-07dfb49dd72788a4.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/6b40bd379144f5c8.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:I[3728,[],\"\"]\n5:I[9928,[],\"\"]\n6:I[6954,[],\"\"]\n7:I[7264,[],\"\"]\n9:I[8326,[\"326\",\"static/chunks/326-c01c22be8dcac7b1.js\",\"687\",\"static/chunks/app/docs/%5B...slug%5D/page-f5028c860b0f5f1d.js\"],\"\"]\na:T88e7,"])</script><script>self.__next_f.push([1,"\u003ch1\u003ePricing Service Tests - Python Example\u003c/h1\u003e\n\u003cp\u003e\u003cstrong\u003eSection\u003c/strong\u003e: \u003ca href=\"../../1-introduction-to-the-domain.md#testable-business-rules\"\u003eTestable Business Rules\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eNavigation\u003c/strong\u003e: \u003ca href=\"./08-money-tests.md\"\u003e← Previous: Money Tests\u003c/a\u003e | \u003ca href=\"../../1-introduction-to-the-domain.md\"\u003e← Back to Introduction\u003c/a\u003e | \u003ca href=\"./README.md\"\u003e← Back to Python Index\u003c/a\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003cpre\u003e\u003ccode class=\"language-python\"\u003e# Python Example - Pricing Service Tests (pytest) - Domain Service Testing\n# File: 2-Domain-Driven-Design/code-samples/python/09-pricing-service-tests.py\n\nimport pytest\nfrom unittest.mock import Mock, patch, MagicMock\nfrom datetime import datetime\n\n# Import the domain objects\nfrom pricing_service import PricingService, TaxCalculator, ShippingCalculator\nfrom order_entity import Order, OrderId, CustomerId, ProductId, Money, OrderItem\nfrom customer_entity import Customer, CustomerStatus, CustomerId as CustomerIdType\n\nclass TestPricingService:\n    \u0026quot;\u0026quot;\u0026quot;Test class for PricingService domain service\u0026quot;\u0026quot;\u0026quot;\n    \n    def test_calculate_order_total_with_active_customer(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating order total for active customer\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        order = self._create_order_with_items()\n        customer = self._create_active_customer()\n        address = self._create_address()\n        \n        # Act\n        total = pricing_service.calculate_order_total(order, customer, address)\n        \n        # Assert\n        assert isinstance(total, Money)\n        assert total.currency == \u0026quot;USD\u0026quot;\n        assert total.amount \u0026gt; 0\n    \n    def test_calculate_order_total_with_inactive_customer_raises_error(self):\n        \u0026quot;\u0026quot;\u0026quot;Test that calculating order total for inactive customer raises error\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        order = self._create_order_with_items()\n        customer = self._create_inactive_customer()\n        address = self._create_address()\n        \n        # Act \u0026amp; Assert\n        with pytest.raises(ValueError, match=\u0026quot;Cannot calculate pricing for inactive customer\u0026quot;):\n            pricing_service.calculate_order_total(order, customer, address)\n    \n    def test_calculate_discount_amount_vip_customer(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating discount amount for VIP customer\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        order = self._create_order_with_items()\n        customer = self._create_vip_customer()\n        \n        # Act\n        discount = pricing_service.calculate_discount_amount(order, customer)\n        \n        # Assert\n        assert isinstance(discount, Money)\n        assert discount.currency == \u0026quot;USD\u0026quot;\n        assert discount.amount \u0026gt; 0\n    \n    def test_calculate_discount_amount_premium_customer(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating discount amount for premium customer\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        order = self._create_order_with_items()\n        customer = self._create_premium_customer()\n        \n        # Act\n        discount = pricing_service.calculate_discount_amount(order, customer)\n        \n        # Assert\n        assert isinstance(discount, Money)\n        assert discount.currency == \u0026quot;USD\u0026quot;\n        assert discount.amount \u0026gt; 0\n    \n    def test_calculate_discount_amount_standard_customer(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating discount amount for standard customer\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        order = self._create_order_with_items()\n        customer = self._create_standard_customer()\n        \n        # Act\n        discount = pricing_service.calculate_discount_amount(order, customer)\n        \n        # Assert\n        assert isinstance(discount, Money)\n        assert discount.currency == \u0026quot;USD\u0026quot;\n        assert discount.amount \u0026gt; 0\n    \n    def test_calculate_discount_amount_basic_customer(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating discount amount for basic customer\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        order = self._create_order_with_items()\n        customer = self._create_basic_customer()\n        \n        # Act\n        discount = pricing_service.calculate_discount_amount(order, customer)\n        \n        # Assert\n        assert isinstance(discount, Money)\n        assert discount.currency == \u0026quot;USD\u0026quot;\n        assert discount.amount == 0  # Basic customers get no discount\n    \n    def test_get_available_discounts(self):\n        \u0026quot;\u0026quot;\u0026quot;Test getting available discounts for an order\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        order = self._create_order_with_items()\n        customer = self._create_vip_customer()\n        \n        # Act\n        discounts = pricing_service.get_available_discounts(order, customer)\n        \n        # Assert\n        assert isinstance(discounts, list)\n        assert len(discounts) \u0026gt; 0\n        \n        for discount in discounts:\n            assert hasattr(discount, \u0026#39;id\u0026#39;)\n            assert hasattr(discount, \u0026#39;name\u0026#39;)\n            assert hasattr(discount, \u0026#39;type\u0026#39;)\n            assert hasattr(discount, \u0026#39;value\u0026#39;)\n            assert hasattr(discount, \u0026#39;description\u0026#39;)\n    \n    def test_apply_customer_discount_vip(self):\n        \u0026quot;\u0026quot;\u0026quot;Test applying VIP customer discount\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        amount = Money(100.00, \u0026quot;USD\u0026quot;)\n        customer = self._create_vip_customer()\n        \n        # Act\n        discounted_amount = pricing_service._apply_customer_discount(amount, customer)\n        \n        # Assert\n        assert discounted_amount.amount == 85.00  # 15% discount\n        assert discounted_amount.currency == \u0026quot;USD\u0026quot;\n    \n    def test_apply_customer_discount_premium(self):\n        \u0026quot;\u0026quot;\u0026quot;Test applying premium customer discount\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        amount = Money(100.00, \u0026quot;USD\u0026quot;)\n        customer = self._create_premium_customer()\n        \n        # Act\n        discounted_amount = pricing_service._apply_customer_discount(amount, customer)\n        \n        # Assert\n        assert discounted_amount.amount == 90.00  # 10% discount\n        assert discounted_amount.currency == \u0026quot;USD\u0026quot;\n    \n    def test_apply_customer_discount_standard(self):\n        \u0026quot;\u0026quot;\u0026quot;Test applying standard customer discount\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        amount = Money(100.00, \u0026quot;USD\u0026quot;)\n        customer = self._create_standard_customer()\n        \n        # Act\n        discounted_amount = pricing_service._apply_customer_discount(amount, customer)\n        \n        # Assert\n        assert discounted_amount.amount == 95.00  # 5% discount\n        assert discounted_amount.currency == \u0026quot;USD\u0026quot;\n    \n    def test_apply_bulk_discount_over_1000(self):\n        \u0026quot;\u0026quot;\u0026quot;Test applying bulk discount for orders over $1000\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        amount = Money(1200.00, \u0026quot;USD\u0026quot;)\n        order = self._create_order_with_amount(1200.00)\n        \n        # Act\n        discounted_amount = pricing_service._apply_bulk_discount(amount, order)\n        \n        # Assert\n        assert discounted_amount.amount == 1080.00  # 10% discount\n        assert discounted_amount.currency == \u0026quot;USD\u0026quot;\n    \n    def test_apply_bulk_discount_over_500(self):\n        \u0026quot;\u0026quot;\u0026quot;Test applying bulk discount for orders over $500\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        amount = Money(600.00, \u0026quot;USD\u0026quot;)\n        order = self._create_order_with_amount(600.00)\n        \n        # Act\n        discounted_amount = pricing_service._apply_bulk_discount(amount, order)\n        \n        # Assert\n        assert discounted_amount.amount == 570.00  # 5% discount\n        assert discounted_amount.currency == \u0026quot;USD\u0026quot;\n    \n    def test_apply_bulk_discount_over_100(self):\n        \u0026quot;\u0026quot;\u0026quot;Test applying bulk discount for orders over $100\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        amount = Money(150.00, \u0026quot;USD\u0026quot;)\n        order = self._create_order_with_amount(150.00)\n        \n        # Act\n        discounted_amount = pricing_service._apply_bulk_discount(amount, order)\n        \n        # Assert\n        assert discounted_amount.amount == 147.00  # 2% discount\n        assert discounted_amount.currency == \u0026quot;USD\u0026quot;\n    \n    def test_apply_bulk_discount_under_100(self):\n        \u0026quot;\u0026quot;\u0026quot;Test applying bulk discount for orders under $100\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        amount = Money(50.00, \u0026quot;USD\u0026quot;)\n        order = self._create_order_with_amount(50.00)\n        \n        # Act\n        discounted_amount = pricing_service._apply_bulk_discount(amount, order)\n        \n        # Assert\n        assert discounted_amount.amount == 50.00  # No discount\n        assert discounted_amount.currency == \u0026quot;USD\u0026quot;\n    \n    def test_apply_shipping_discount_over_50(self):\n        \u0026quot;\u0026quot;\u0026quot;Test applying shipping discount for orders over $50\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        shipping = Money(5.99, \u0026quot;USD\u0026quot;)\n        order_amount = Money(75.00, \u0026quot;USD\u0026quot;)\n        \n        # Act\n        discounted_shipping = pricing_service._apply_shipping_discount(shipping, order_amount)\n        \n        # Assert\n        assert discounted_shipping.amount == 0.00  # Free shipping\n        assert discounted_shipping.currency == \u0026quot;USD\u0026quot;\n    \n    def test_apply_shipping_discount_over_25(self):\n        \u0026quot;\u0026quot;\u0026quot;Test applying shipping discount for orders over $25\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        shipping = Money(5.99, \u0026quot;USD\u0026quot;)\n        order_amount = Money(30.00, \u0026quot;USD\u0026quot;)\n        \n        # Act\n        discounted_shipping = pricing_service._apply_shipping_discount(shipping, order_amount)\n        \n        # Assert\n        assert discounted_shipping.amount == 2.995  # 50% off shipping\n        assert discounted_shipping.currency == \u0026quot;USD\u0026quot;\n    \n    def test_apply_shipping_discount_under_25(self):\n        \u0026quot;\u0026quot;\u0026quot;Test applying shipping discount for orders under $25\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        shipping = Money(5.99, \u0026quot;USD\u0026quot;)\n        order_amount = Money(20.00, \u0026quot;USD\u0026quot;)\n        \n        # Act\n        discounted_shipping = pricing_service._apply_shipping_discount(shipping, order_amount)\n        \n        # Assert\n        assert discounted_shipping.amount == 5.99  # No discount\n        assert discounted_shipping.currency == \u0026quot;USD\u0026quot;\n    \n    def test_get_customer_discount_rate(self):\n        \u0026quot;\u0026quot;\u0026quot;Test getting customer discount rate\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        \n        # Act \u0026amp; Assert\n        assert pricing_service._get_customer_discount_rate(\u0026quot;VIP\u0026quot;) == 0.15\n        assert pricing_service._get_customer_discount_rate(\u0026quot;Premium\u0026quot;) == 0.10\n        assert pricing_service._get_customer_discount_rate(\u0026quot;Standard\u0026quot;) == 0.05\n        assert pricing_service._get_customer_discount_rate(\u0026quot;Basic\u0026quot;) == 0.0\n        assert pricing_service._get_customer_discount_rate(\u0026quot;Unknown\u0026quot;) == 0.0\n    \n    def test_get_customer_type_discount_vip(self):\n        \u0026quot;\u0026quot;\u0026quot;Test getting customer type discount for VIP customer\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        customer = self._create_vip_customer()\n        \n        # Act\n        discount = pricing_service._get_customer_type_discount(customer)\n        \n        # Assert\n        assert discount is not None\n        assert discount.name == \u0026quot;VIP Customer Discount\u0026quot;\n        assert discount.type == \u0026quot;percentage\u0026quot;\n        assert discount.value == 0.15\n        assert \u0026quot;VIP\u0026quot; in discount.description\n    \n    def test_get_customer_type_discount_basic(self):\n        \u0026quot;\u0026quot;\u0026quot;Test getting customer type discount for basic customer\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        customer = self._create_basic_customer()\n        \n        # Act\n        discount = pricing_service._get_customer_type_discount(customer)\n        \n        # Assert\n        assert discount is None  # Basic customers get no discount\n    \n    def test_get_bulk_discount_over_1000(self):\n        \u0026quot;\u0026quot;\u0026quot;Test getting bulk discount for orders over $1000\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        order = self._create_order_with_amount(1200.00)\n        \n        # Act\n        discount = pricing_service._get_bulk_discount(order)\n        \n        # Assert\n        assert discount is not None\n        assert discount.name == \u0026quot;Bulk Discount\u0026quot;\n        assert discount.type == \u0026quot;percentage\u0026quot;\n        assert discount.value == 0.10\n        assert \u0026quot;10%\u0026quot; in discount.description\n    \n    def test_get_bulk_discount_over_500(self):\n        \u0026quot;\u0026quot;\u0026quot;Test getting bulk discount for orders over $500\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        order = self._create_order_with_amount(600.00)\n        \n        # Act\n        discount = pricing_service._get_bulk_discount(order)\n        \n        # Assert\n        assert discount is not None\n        assert discount.name == \u0026quot;Bulk Discount\u0026quot;\n        assert discount.type == \u0026quot;percentage\u0026quot;\n        assert discount.value == 0.05\n        assert \u0026quot;5%\u0026quot; in discount.description\n    \n    def test_get_bulk_discount_under_500(self):\n        \u0026quot;\u0026quot;\u0026quot;Test getting bulk discount for orders under $500\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        order = self._create_order_with_amount(300.00)\n        \n        # Act\n        discount = pricing_service._get_bulk_discount(order)\n        \n        # Assert\n        assert discount is None  # No bulk discount\n    \n    def test_get_seasonal_discount_holiday_season(self):\n        \u0026quot;\u0026quot;\u0026quot;Test getting seasonal discount during holiday season\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        \n        # Mock datetime to return December\n        with patch(\u0026#39;pricing_service.datetime\u0026#39;) as mock_datetime:\n            mock_datetime.now.return_value.month = 12\n            \n            # Act\n            discount = pricing_service._get_seasonal_discount()\n            \n            # Assert\n            assert discount is not None\n            assert discount.name == \u0026quot;Holiday Discount\u0026quot;\n            assert discount.type == \u0026quot;percentage\u0026quot;\n            assert discount.value == 0.08\n            assert \u0026quot;holiday\u0026quot; in discount.description.lower()\n    \n    def test_get_seasonal_discount_non_holiday_season(self):\n        \u0026quot;\u0026quot;\u0026quot;Test getting seasonal discount during non-holiday season\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        \n        # Mock datetime to return March\n        with patch(\u0026#39;pricing_service.datetime\u0026#39;) as mock_datetime:\n            mock_datetime.now.return_value.month = 3\n            \n            # Act\n            discount = pricing_service._get_seasonal_discount()\n            \n            # Assert\n            assert discount is None  # No seasonal discount\n    \n    def test_get_product_discounts_sale_items(self):\n        \u0026quot;\u0026quot;\u0026quot;Test getting product discounts for sale items\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        order = self._create_order_with_sale_items()\n        \n        # Act\n        discounts = pricing_service._get_product_discounts(order)\n        \n        # Assert\n        assert len(discounts) \u0026gt; 0\n        for discount in discounts:\n            assert discount.name == \u0026quot;Sale Item Discount\u0026quot;\n            assert discount.type == \u0026quot;percentage\u0026quot;\n            assert discount.value == 0.20\n            assert \u0026quot;sale\u0026quot; in discount.description.lower()\n    \n    def test_get_product_discounts_no_sale_items(self):\n        \u0026quot;\u0026quot;\u0026quot;Test getting product discounts for non-sale items\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        pricing_service = PricingService()\n        order = self._create_order_with_items()\n        \n        # Act\n        discounts = pricing_service._get_product_discounts(order)\n        \n        # Assert\n        assert len(discounts) == 0  # No sale items\n    \n    # Helper methods\n    def _create_order_with_items(self):\n        \u0026quot;\u0026quot;\u0026quot;Create order with items for testing\u0026quot;\u0026quot;\u0026quot;\n        order = MockOrder()\n        order.total_amount = Money(100.00, \u0026quot;USD\u0026quot;)\n        order.items = [\n            MockOrderItem(ProductId(\u0026quot;product-1\u0026quot;), 2, Money(15.99, \u0026quot;USD\u0026quot;)),\n            MockOrderItem(ProductId(\u0026quot;product-2\u0026quot;), 1, Money(25.50, \u0026quot;USD\u0026quot;))\n        ]\n        return order\n    \n    def _create_order_with_amount(self, amount):\n        \u0026quot;\u0026quot;\u0026quot;Create order with specific amount for testing\u0026quot;\u0026quot;\u0026quot;\n        order = MockOrder()\n        order.total_amount = Money(amount, \u0026quot;USD\u0026quot;)\n        order.items = []\n        return order\n    \n    def _create_order_with_sale_items(self):\n        \u0026quot;\u0026quot;\u0026quot;Create order with sale items for testing\u0026quot;\u0026quot;\u0026quot;\n        order = MockOrder()\n        order.total_amount = Money(100.00, \u0026quot;USD\u0026quot;)\n        order.items = [\n            MockOrderItem(ProductId(\u0026quot;SALE-product-1\u0026quot;), 2, Money(15.99, \u0026quot;USD\u0026quot;)),\n            MockOrderItem(ProductId(\u0026quot;SALE-product-2\u0026quot;), 1, Money(25.50, \u0026quot;USD\u0026quot;))\n        ]\n        return order\n    \n    def _create_active_customer(self):\n        \u0026quot;\u0026quot;\u0026quot;Create active customer for testing\u0026quot;\u0026quot;\u0026quot;\n        customer = MockCustomer()\n        customer.customer_type = \u0026quot;Standard\u0026quot;\n        customer.is_active.return_value = True\n        return customer\n    \n    def _create_inactive_customer(self):\n        \u0026quot;\u0026quot;\u0026quot;Create inactive customer for testing\u0026quot;\u0026quot;\u0026quot;\n        customer = MockCustomer()\n        customer.customer_type = \u0026quot;Standard\u0026quot;\n        customer.is_active.return_value = False\n        return customer\n    \n    def _create_vip_customer(self):\n        \u0026quot;\u0026quot;\u0026quot;Create VIP customer for testing\u0026quot;\u0026quot;\u0026quot;\n        customer = MockCustomer()\n        customer.customer_type = \u0026quot;VIP\u0026quot;\n        customer.is_active.return_value = True\n        return customer\n    \n    def _create_premium_customer(self):\n        \u0026quot;\u0026quot;\u0026quot;Create premium customer for testing\u0026quot;\u0026quot;\u0026quot;\n        customer = MockCustomer()\n        customer.customer_type = \u0026quot;Premium\u0026quot;\n        customer.is_active.return_value = True\n        return customer\n    \n    def _create_standard_customer(self):\n        \u0026quot;\u0026quot;\u0026quot;Create standard customer for testing\u0026quot;\u0026quot;\u0026quot;\n        customer = MockCustomer()\n        customer.customer_type = \u0026quot;Standard\u0026quot;\n        customer.is_active.return_value = True\n        return customer\n    \n    def _create_basic_customer(self):\n        \u0026quot;\u0026quot;\u0026quot;Create basic customer for testing\u0026quot;\u0026quot;\u0026quot;\n        customer = MockCustomer()\n        customer.customer_type = \u0026quot;Basic\u0026quot;\n        customer.is_active.return_value = True\n        return customer\n    \n    def _create_address(self):\n        \u0026quot;\u0026quot;\u0026quot;Create address for testing\u0026quot;\u0026quot;\u0026quot;\n        address = MockAddress()\n        address.country = \u0026quot;US\u0026quot;\n        address.state = \u0026quot;CA\u0026quot;\n        return address\n\nclass TestTaxCalculator:\n    \u0026quot;\u0026quot;\u0026quot;Test class for TaxCalculator domain service\u0026quot;\u0026quot;\u0026quot;\n    \n    def test_calculate_tax_us_california(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating tax for US California\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        tax_calculator = TaxCalculator()\n        amount = Money(100.00, \u0026quot;USD\u0026quot;)\n        address = MockAddress()\n        address.country = \u0026quot;US\u0026quot;\n        address.state = \u0026quot;CA\u0026quot;\n        \n        # Act\n        tax = tax_calculator.calculate_tax(amount, address)\n        \n        # Assert\n        assert tax.amount == 8.00  # 8% tax\n        assert tax.currency == \u0026quot;USD\u0026quot;\n    \n    def test_calculate_tax_us_texas(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating tax for US Texas\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        tax_calculator = TaxCalculator()\n        amount = Money(100.00, \u0026quot;USD\u0026quot;)\n        address = MockAddress()\n        address.country = \u0026quot;US\u0026quot;\n        address.state = \u0026quot;TX\u0026quot;\n        \n        # Act\n        tax = tax_calculator.calculate_tax(amount, address)\n        \n        # Assert\n        assert tax.amount == 8.00  # 8% tax\n        assert tax.currency == \u0026quot;USD\u0026quot;\n    \n    def test_calculate_tax_us_other_state(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating tax for US other state\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        tax_calculator = TaxCalculator()\n        amount = Money(100.00, \u0026quot;USD\u0026quot;)\n        address = MockAddress()\n        address.country = \u0026quot;US\u0026quot;\n        address.state = \u0026quot;NY\u0026quot;\n        \n        # Act\n        tax = tax_calculator.calculate_tax(amount, address)\n        \n        # Assert\n        assert tax.amount == 6.00  # 6% tax\n        assert tax.currency == \u0026quot;USD\u0026quot;\n    \n    def test_calculate_tax_canada_ontario(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating tax for Canada Ontario\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        tax_calculator = TaxCalculator()\n        amount = Money(100.00, \u0026quot;USD\u0026quot;)\n        address = MockAddress()\n        address.country = \u0026quot;CA\u0026quot;\n        address.province = \u0026quot;ON\u0026quot;\n        \n        # Act\n        tax = tax_calculator.calculate_tax(amount, address)\n        \n        # Assert\n        assert tax.amount == 13.00  # 13% HST\n        assert tax.currency == \u0026quot;USD\u0026quot;\n    \n    def test_calculate_tax_canada_other_province(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating tax for Canada other province\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        tax_calculator = TaxCalculator()\n        amount = Money(100.00, \u0026quot;USD\u0026quot;)\n        address = MockAddress()\n        address.country = \u0026quot;CA\u0026quot;\n        address.province = \u0026quot;QC\u0026quot;\n        \n        # Act\n        tax = tax_calculator.calculate_tax(amount, address)\n        \n        # Assert\n        assert tax.amount == 15.00  # 15% HST\n        assert tax.currency == \u0026quot;USD\u0026quot;\n    \n    def test_calculate_tax_international(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating tax for international address\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        tax_calculator = TaxCalculator()\n        amount = Money(100.00, \u0026quot;USD\u0026quot;)\n        address = MockAddress()\n        address.country = \u0026quot;UK\u0026quot;\n        \n        # Act\n        tax = tax_calculator.calculate_tax(amount, address)\n        \n        # Assert\n        assert tax.amount == 0.00  # No tax for international\n        assert tax.currency == \u0026quot;USD\u0026quot;\n\nclass TestShippingCalculator:\n    \u0026quot;\u0026quot;\u0026quot;Test class for ShippingCalculator domain service\u0026quot;\u0026quot;\u0026quot;\n    \n    def test_calculate_shipping_us(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating shipping for US address\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        shipping_calculator = ShippingCalculator()\n        order = self._create_order_with_items()\n        address = MockAddress()\n        address.country = \u0026quot;US\u0026quot;\n        \n        # Act\n        shipping = shipping_calculator.calculate_shipping(order, address)\n        \n        # Assert\n        assert shipping.amount \u0026gt;= 5.99  # Base shipping\n        assert shipping.currency == \u0026quot;USD\u0026quot;\n    \n    def test_calculate_shipping_canada(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating shipping for Canada address\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        shipping_calculator = ShippingCalculator()\n        order = self._create_order_with_items()\n        address = MockAddress()\n        address.country = \u0026quot;CA\u0026quot;\n        \n        # Act\n        shipping = shipping_calculator.calculate_shipping(order, address)\n        \n        # Assert\n        assert shipping.amount \u0026gt;= 8.99  # Base shipping\n        assert shipping.currency == \u0026quot;USD\u0026quot;\n    \n    def test_calculate_shipping_international(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating shipping for international address\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        shipping_calculator = ShippingCalculator()\n        order = self._create_order_with_items()\n        address = MockAddress()\n        address.country = \u0026quot;UK\u0026quot;\n        \n        # Act\n        shipping = shipping_calculator.calculate_shipping(order, address)\n        \n        # Assert\n        assert shipping.amount \u0026gt;= 15.99  # Base shipping\n        assert shipping.currency == \u0026quot;USD\u0026quot;\n    \n    def test_calculate_shipping_with_weight_charge(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating shipping with weight charge\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        shipping_calculator = ShippingCalculator()\n        order = self._create_heavy_order()\n        address = MockAddress()\n        address.country = \u0026quot;US\u0026quot;\n        \n        # Act\n        shipping = shipping_calculator.calculate_shipping(order, address)\n        \n        # Assert\n        assert shipping.amount \u0026gt; 5.99  # Base shipping + weight charge\n        assert shipping.currency == \u0026quot;USD\u0026quot;\n    \n    def test_calculate_shipping_with_distance_charge(self):\n        \u0026quot;\u0026quot;\u0026quot;Test calculating shipping with distance charge\u0026quot;\u0026quot;\u0026quot;\n        # Arrange\n        shipping_calculator = ShippingCalculator()\n        order = self._create_order_with_items()\n        address = MockAddress()\n        address.country = \u0026quot;US\u0026quot;\n        address.state = \u0026quot;AK\u0026quot;  # Alaska\n        \n        # Act\n        shipping = shipping_calculator.calculate_shipping(order, address)\n        \n        # Assert\n        assert shipping.amount \u0026gt; 5.99  # Base shipping + distance charge\n        assert shipping.currency == \u0026quot;USD\u0026quot;\n    \n    def _create_order_with_items(self):\n        \u0026quot;\u0026quot;\u0026quot;Create order with items for testing\u0026quot;\u0026quot;\u0026quot;\n        order = MockOrder()\n        order.items = [\n            MockOrderItem(ProductId(\u0026quot;product-1\u0026quot;), 2, Money(15.99, \u0026quot;USD\u0026quot;)),\n            MockOrderItem(ProductId(\u0026quot;product-2\u0026quot;), 1, Money(25.50, \u0026quot;USD\u0026quot;))\n        ]\n        return order\n    \n    def _create_heavy_order(self):\n        \u0026quot;\u0026quot;\u0026quot;Create heavy order for testing\u0026quot;\u0026quot;\u0026quot;\n        order = MockOrder()\n        order.items = [\n            MockOrderItem(ProductId(\u0026quot;product-1\u0026quot;), 50, Money(15.99, \u0026quot;USD\u0026quot;))  # Heavy order\n        ]\n        return order\n\n# Mock classes for testing\nclass MockOrder:\n    \u0026quot;\u0026quot;\u0026quot;Mock order for testing\u0026quot;\u0026quot;\u0026quot;\n    def __init__(self):\n        self.total_amount = Money(100.00, \u0026quot;USD\u0026quot;)\n        self.items = []\n\nclass MockOrderItem:\n    \u0026quot;\u0026quot;\u0026quot;Mock order item for testing\u0026quot;\u0026quot;\u0026quot;\n    def __init__(self, product_id, quantity, unit_price):\n        self.product_id = product_id\n        self.quantity = quantity\n        self.unit_price = unit_price\n\nclass MockCustomer:\n    \u0026quot;\u0026quot;\u0026quot;Mock customer for testing\u0026quot;\u0026quot;\u0026quot;\n    def __init__(self):\n        self.customer_type = \u0026quot;Standard\u0026quot;\n        self.is_active = Mock(return_value=True)\n\nclass MockAddress:\n    \u0026quot;\u0026quot;\u0026quot;Mock address for testing\u0026quot;\u0026quot;\u0026quot;\n    def __init__(self):\n        self.country = \u0026quot;US\u0026quot;\n        self.state = \u0026quot;CA\u0026quot;\n        self.province = None\n\n# Test fixtures\n@pytest.fixture\ndef pricing_service():\n    \u0026quot;\u0026quot;\u0026quot;Fixture for creating pricing service\u0026quot;\u0026quot;\u0026quot;\n    return PricingService()\n\n@pytest.fixture\ndef tax_calculator():\n    \u0026quot;\u0026quot;\u0026quot;Fixture for creating tax calculator\u0026quot;\u0026quot;\u0026quot;\n    return TaxCalculator()\n\n@pytest.fixture\ndef shipping_calculator():\n    \u0026quot;\u0026quot;\u0026quot;Fixture for creating shipping calculator\u0026quot;\u0026quot;\u0026quot;\n    return ShippingCalculator()\n\n# Parametrized tests\n@pytest.mark.parametrize(\u0026quot;customer_type,expected_discount_rate\u0026quot;, [\n    (\u0026quot;VIP\u0026quot;, 0.15),\n    (\u0026quot;Premium\u0026quot;, 0.10),\n    (\u0026quot;Standard\u0026quot;, 0.05),\n    (\u0026quot;Basic\u0026quot;, 0.0),\n    (\u0026quot;Unknown\u0026quot;, 0.0)\n])\ndef test_customer_discount_rates(customer_type, expected_discount_rate):\n    \u0026quot;\u0026quot;\u0026quot;Test customer discount rates with different parameters\u0026quot;\u0026quot;\u0026quot;\n    # Arrange\n    pricing_service = PricingService()\n    \n    # Act\n    discount_rate = pricing_service._get_customer_discount_rate(customer_type)\n    \n    # Assert\n    assert discount_rate == expected_discount_rate\n\n@pytest.mark.parametrize(\u0026quot;order_amount,expected_discount_rate\u0026quot;, [\n    (1200.0, 0.10),\n    (600.0, 0.05),\n    (150.0, 0.02),\n    (50.0, 0.0)\n])\ndef test_bulk_discount_rates(order_amount, expected_discount_rate):\n    \u0026quot;\u0026quot;\u0026quot;Test bulk discount rates with different parameters\u0026quot;\u0026quot;\u0026quot;\n    # Arrange\n    pricing_service = PricingService()\n    order = MockOrder()\n    order.total_amount = Money(order_amount, \u0026quot;USD\u0026quot;)\n    \n    # Act\n    discount = pricing_service._get_bulk_discount(order)\n    \n    # Assert\n    if expected_discount_rate \u0026gt; 0:\n        assert discount is not None\n        assert discount.value == expected_discount_rate\n    else:\n        assert discount is None\n\n@pytest.mark.parametrize(\u0026quot;order_amount,expected_shipping_discount\u0026quot;, [\n    (75.0, 0.0),  # Free shipping\n    (30.0, 0.5),  # 50% off shipping\n    (20.0, 1.0)   # No discount\n])\ndef test_shipping_discount_rates(order_amount, expected_shipping_discount):\n    \u0026quot;\u0026quot;\u0026quot;Test shipping discount rates with different parameters\u0026quot;\u0026quot;\u0026quot;\n    # Arrange\n    pricing_service = PricingService()\n    shipping = Money(5.99, \u0026quot;USD\u0026quot;)\n    order_amount_obj = Money(order_amount, \u0026quot;USD\u0026quot;)\n    \n    # Act\n    discounted_shipping = pricing_service._apply_shipping_discount(shipping, order_amount_obj)\n    \n    # Assert\n    if expected_shipping_discount == 0.0:\n        assert discounted_shipping.amount == 0.0\n    elif expected_shipping_discount == 0.5:\n        assert discounted_shipping.amount == 2.995\n    else:\n        assert discounted_shipping.amount == 5.99\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eKey Concepts Demonstrated\u003c/h2\u003e\n\u003ch3\u003eTestable Business Rules\u003c/h3\u003e\n\u003ch4\u003e1. \u003cstrong\u003eDomain Service Testing\u003c/strong\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e✅ Tests focus on business logic without external dependencies\u003c/li\u003e\n\u003cli\u003e✅ Complex business rules are tested in isolation\u003c/li\u003e\n\u003cli\u003e✅ Service behavior is verified through comprehensive test cases\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003e2. \u003cstrong\u003eBusiness Rule Validation\u003c/strong\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e✅ Tests verify business rules are enforced correctly\u003c/li\u003e\n\u003cli\u003e✅ Different customer types get appropriate discounts\u003c/li\u003e\n\u003cli\u003e✅ Bulk discounts are applied based on order amounts\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003e3. \u003cstrong\u003eService Composition Testing\u003c/strong\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e✅ Individual services (TaxCalculator, ShippingCalculator) are tested\u003c/li\u003e\n\u003cli\u003e✅ Service interactions are verified\u003c/li\u003e\n\u003cli\u003e✅ Complex calculations are broken down into testable components\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003e4. \u003cstrong\u003eMock Usage\u003c/strong\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e✅ External dependencies are mocked for isolated testing\u003c/li\u003e\n\u003cli\u003e✅ Test data is created using helper methods\u003c/li\u003e\n\u003cli\u003e✅ Tests focus on business logic, not infrastructure\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003ePricing Service Testing Principles\u003c/h3\u003e\n\u003ch4\u003e\u003cstrong\u003eTest Business Rules\u003c/strong\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e✅ Customer discount rates are tested for all customer types\u003c/li\u003e\n\u003cli\u003e✅ Bulk discount thresholds are verified\u003c/li\u003e\n\u003cli\u003e✅ Shipping discount rules are tested\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003e\u003cstrong\u003eTest Edge Cases\u003c/strong\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e✅ Boundary conditions (exactly $100, $500, $1000)\u003c/li\u003e\n\u003cli\u003e✅ Error conditions (inactive customers)\u003c/li\u003e\n\u003cli\u003e✅ Different address types (US, Canada, International)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003e\u003cstrong\u003eTest Service Composition\u003c/strong\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e✅ Individual services are tested separately\u003c/li\u003e\n\u003cli\u003e✅ Service interactions are verified\u003c/li\u003e\n\u003cli\u003e✅ Complex calculations are broken down\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003e\u003cstrong\u003eTest Mocking\u003c/strong\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e✅ External dependencies are properly mocked\u003c/li\u003e\n\u003cli\u003e✅ Test data is created using helper methods\u003c/li\u003e\n\u003cli\u003e✅ Tests remain focused on business logic\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003ePython Testing Benefits\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003epytest\u003c/strong\u003e: Powerful testing framework with fixtures and parametrization\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eunittest.mock\u003c/strong\u003e: Built-in mocking capabilities\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eType Hints\u003c/strong\u003e: Better IDE support and documentation\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eFixtures\u003c/strong\u003e: Reusable test data and setup\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eParametrized Tests\u003c/strong\u003e: Test multiple scenarios efficiently\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eError Handling\u003c/strong\u003e: Clear exception messages for business rules\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eCommon Anti-Patterns to Avoid\u003c/h3\u003e\n\u003ch4\u003e\u003cstrong\u003eTesting Implementation Details\u003c/strong\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e❌ Tests that verify internal implementation\u003c/li\u003e\n\u003cli\u003e❌ Tests that break when implementation changes\u003c/li\u003e\n\u003cli\u003e❌ Tests that don\u0026#39;t verify business behavior\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003e\u003cstrong\u003eOver-Mocking\u003c/strong\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e❌ Mocking everything instead of testing real behavior\u003c/li\u003e\n\u003cli\u003e❌ Tests that don\u0026#39;t verify actual business logic\u003c/li\u003e\n\u003cli\u003e❌ Tests that are hard to maintain\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003e\u003cstrong\u003eIncomplete Test Coverage\u003c/strong\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003e❌ Tests that don\u0026#39;t cover all business rules\u003c/li\u003e\n\u003cli\u003e❌ Tests that miss edge cases\u003c/li\u003e\n\u003cli\u003e❌ Tests that don\u0026#39;t verify error conditions\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eRelated Concepts\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"./05-pricing-service.md\"\u003ePricing Service\u003c/a\u003e - Service being tested\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"./07-order-tests.md\"\u003eOrder Tests\u003c/a\u003e - Tests that use Pricing Service\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"./08-money-tests.md\"\u003eMoney Tests\u003c/a\u003e - Tests for Money value object\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"../../1-introduction-to-the-domain.md#testable-business-rules\"\u003eTestable Business Rules\u003c/a\u003e - Testing concepts\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e/*\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eNavigation:\u003c/li\u003e\n\u003cli\u003ePrevious: 08-money-tests.md\u003c/li\u003e\n\u003cli\u003eNext: 10-customer-service-tests.md\u003c/li\u003e\n\u003cli\u003e\u003c/li\u003e\n\u003cli\u003eBack to: \u003ca href=\"../../1-introduction-to-the-domain.md#testable-business-rules\"\u003eTestable Business Rules\u003c/a\u003e\u003cbr\u003e */\u003c/li\u003e\n\u003c/ul\u003e\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/6b40bd379144f5c8.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"Mi_IUBpRsd6BRYXmSnup_\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/docs/2-Domain-Driven-Design/code-samples/python/09-pricing-service-tests\",\"initialTree\":[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"2-Domain-Driven-Design/code-samples/python/09-pricing-service-tests\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"2-Domain-Driven-Design\\\",\\\"code-samples\\\",\\\"python\\\",\\\"09-pricing-service-tests\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L4\"],\"globalErrorComponent\":\"$5\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.googleapis.com\"}],[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.gstatic.com\",\"crossOrigin\":\"anonymous\"}],[\"$\",\"link\",null,{\"href\":\"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700\u0026display=swap\",\"rel\":\"stylesheet\"}]]}],[\"$\",\"body\",null,{\"className\":\"antialiased\",\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\",[\"slug\",\"2-Domain-Driven-Design/code-samples/python/09-pricing-service-tests\",\"c\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$L7\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$L8\",[\"$\",\"div\",null,{\"className\":\"flex min-h-screen bg-gray-50\",\"children\":[[\"$\",\"aside\",null,{\"className\":\"sidebar\",\"children\":[\"$\",\"div\",null,{\"className\":\"sidebar-nav\",\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/\",\"className\":\"text-lg font-semibold text-gray-900 mb-4 block hover:text-blue-600\",\"children\":\"← Engineering 101\"}],[\"$\",\"h2\",null,{\"className\":\"text-lg font-semibold text-gray-900 mb-4\",\"children\":\"Course Content\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/1-SOLID-Principles\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles\",\"className\":\"sidebar-item\",\"children\":\"1-SOLID-Principles\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/1-SOLID-Principles/0-README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/0-README\",\"className\":\"sidebar-item\",\"children\":\"0-README\"}],false]}],[\"$\",\"li\",\"/docs/1-SOLID-Principles/1-Single-class-reponsibility-principle\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/1-Single-class-reponsibility-principle\",\"className\":\"sidebar-item\",\"children\":\"1-Single-class-reponsibility-principle\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/1-SOLID-Principles/1-Single-class-reponsibility-principle/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/1-Single-class-reponsibility-principle/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/1-SOLID-Principles/2-Open-closed-principle\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/2-Open-closed-principle\",\"className\":\"sidebar-item\",\"children\":\"2-Open-closed-principle\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/1-SOLID-Principles/2-Open-closed-principle/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/2-Open-closed-principle/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/1-SOLID-Principles/3-Liskov-substitution-principle\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/3-Liskov-substitution-principle\",\"className\":\"sidebar-item\",\"children\":\"3-Liskov-substitution-principle\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/1-SOLID-Principles/3-Liskov-substitution-principle/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/3-Liskov-substitution-principle/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/1-SOLID-Principles/4-Interface-segregation-principle\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/4-Interface-segregation-principle\",\"className\":\"sidebar-item\",\"children\":\"4-Interface-segregation-principle\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/1-SOLID-Principles/4-Interface-segregation-principle/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/4-Interface-segregation-principle/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/1-SOLID-Principles/5-Dependency-segregation-principle\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/5-Dependency-segregation-principle\",\"className\":\"sidebar-item\",\"children\":\"5-Dependency-segregation-principle\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/1-SOLID-Principles/5-Dependency-segregation-principle/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/5-Dependency-segregation-principle/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/1-SOLID-Principles/reference-application\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/reference-application\",\"className\":\"sidebar-item\",\"children\":\"reference-application\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/1-SOLID-Principles/reference-application/CI-README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/reference-application/CI-README\",\"className\":\"sidebar-item\",\"children\":\"CI-README\"}],false]}],[\"$\",\"li\",\"/docs/1-SOLID-Principles/reference-application/Dotnet\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/reference-application/Dotnet\",\"className\":\"sidebar-item\",\"children\":\"Dotnet\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/1-SOLID-Principles/reference-application/Dotnet/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/reference-application/Dotnet/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/1-SOLID-Principles/reference-application/Java\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/reference-application/Java\",\"className\":\"sidebar-item\",\"children\":\"Java\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/1-SOLID-Principles/reference-application/Java/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/reference-application/Java/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/1-SOLID-Principles/reference-application/Python\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/reference-application/Python\",\"className\":\"sidebar-item\",\"children\":\"Python\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/1-SOLID-Principles/reference-application/Python/.pytest_cache\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/reference-application/Python/.pytest_cache\",\"className\":\"sidebar-item\",\"children\":\".pytest_cache\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/1-SOLID-Principles/reference-application/Python/.pytest_cache/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/reference-application/Python/.pytest_cache/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/1-SOLID-Principles/reference-application/Python/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/reference-application/Python/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/1-SOLID-Principles/reference-application/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/reference-application/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}],[\"$\",\"li\",\"/docs/1-SOLID-Principles/reference-application/TypeScript\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/reference-application/TypeScript\",\"className\":\"sidebar-item\",\"children\":\"TypeScript\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/1-SOLID-Principles/reference-application/TypeScript/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/1-SOLID-Principles/reference-application/TypeScript/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}]]}]}]]}]]}]}]]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design\",\"className\":\"sidebar-item\",\"children\":\"2-Domain-Driven-Design\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/0-README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/0-README\",\"className\":\"sidebar-item\",\"children\":\"0-README\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/1-Bounded-Contexts\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/1-Bounded-Contexts\",\"className\":\"sidebar-item\",\"children\":\"1-Bounded-Contexts\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/1-Bounded-Contexts/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/1-Bounded-Contexts/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/1-introduction-to-the-domain\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/1-introduction-to-the-domain\",\"className\":\"sidebar-item\",\"children\":\"1-introduction-to-the-domain\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/2-Ubiquitous-Language\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/2-Ubiquitous-Language\",\"className\":\"sidebar-item\",\"children\":\"2-Ubiquitous-Language\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/2-Ubiquitous-Language/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/2-Ubiquitous-Language/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/3-Domain-Models\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/3-Domain-Models\",\"className\":\"sidebar-item\",\"children\":\"3-Domain-Models\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/3-Domain-Models/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/3-Domain-Models/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/4-Context-Mapping\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/4-Context-Mapping\",\"className\":\"sidebar-item\",\"children\":\"4-Context-Mapping\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/4-Context-Mapping/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/4-Context-Mapping/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/5-Strategic-Patterns\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/5-Strategic-Patterns\",\"className\":\"sidebar-item\",\"children\":\"5-Strategic-Patterns\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/5-Strategic-Patterns/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/5-Strategic-Patterns/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples\",\"className\":\"sidebar-item\",\"children\":\"code-samples\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/csharp\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/csharp\",\"className\":\"sidebar-item\",\"children\":\"csharp\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/csharp/02-order-entity\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/csharp/02-order-entity\",\"className\":\"sidebar-item\",\"children\":\"02-order-entity\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/csharp/03-money-value-object\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/csharp/03-money-value-object\",\"className\":\"sidebar-item\",\"children\":\"03-money-value-object\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/csharp/04-email-address-value-object\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/csharp/04-email-address-value-object\",\"className\":\"sidebar-item\",\"children\":\"04-email-address-value-object\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/csharp/05-pricing-service\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/csharp/05-pricing-service\",\"className\":\"sidebar-item\",\"children\":\"05-pricing-service\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/csharp/06-customer-module\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/csharp/06-customer-module\",\"className\":\"sidebar-item\",\"children\":\"06-customer-module\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/csharp/07-order-tests\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/csharp/07-order-tests\",\"className\":\"sidebar-item\",\"children\":\"07-order-tests\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/csharp/08-money-tests\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/csharp/08-money-tests\",\"className\":\"sidebar-item\",\"children\":\"08-money-tests\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/csharp/09-pricing-service-tests\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/csharp/09-pricing-service-tests\",\"className\":\"sidebar-item\",\"children\":\"09-pricing-service-tests\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/csharp/11-testing-anti-patterns\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/csharp/11-testing-anti-patterns\",\"className\":\"sidebar-item\",\"children\":\"11-testing-anti-patterns\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/csharp/12-testing-best-practices\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/csharp/12-testing-best-practices\",\"className\":\"sidebar-item\",\"children\":\"12-testing-best-practices\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/csharp/13-domain-modeling-best-practices\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/csharp/13-domain-modeling-best-practices\",\"className\":\"sidebar-item\",\"children\":\"13-domain-modeling-best-practices\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/csharp/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/csharp/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/introduction-to-the-domain\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/introduction-to-the-domain\",\"className\":\"sidebar-item\",\"children\":\"introduction-to-the-domain\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/java\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/java\",\"className\":\"sidebar-item\",\"children\":\"java\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/java/02-money-value-object\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/java/02-money-value-object\",\"className\":\"sidebar-item\",\"children\":\"02-money-value-object\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/java/03-inventory-service\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/java/03-inventory-service\",\"className\":\"sidebar-item\",\"children\":\"03-inventory-service\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/java/03-order-entity\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/java/03-order-entity\",\"className\":\"sidebar-item\",\"children\":\"03-order-entity\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/java/04-email-address-value-object\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/java/04-email-address-value-object\",\"className\":\"sidebar-item\",\"children\":\"04-email-address-value-object\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/java/04-order-tests\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/java/04-order-tests\",\"className\":\"sidebar-item\",\"children\":\"04-order-tests\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/java/05-pricing-service\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/java/05-pricing-service\",\"className\":\"sidebar-item\",\"children\":\"05-pricing-service\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/java/06-customer-module\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/java/06-customer-module\",\"className\":\"sidebar-item\",\"children\":\"06-customer-module\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/java/07-order-tests\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/java/07-order-tests\",\"className\":\"sidebar-item\",\"children\":\"07-order-tests\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/java/08-money-tests\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/java/08-money-tests\",\"className\":\"sidebar-item\",\"children\":\"08-money-tests\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/java/09-pricing-service-tests\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/java/09-pricing-service-tests\",\"className\":\"sidebar-item\",\"children\":\"09-pricing-service-tests\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/java/11-testing-anti-patterns\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/java/11-testing-anti-patterns\",\"className\":\"sidebar-item\",\"children\":\"11-testing-anti-patterns\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/java/12-testing-best-practices\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/java/12-testing-best-practices\",\"className\":\"sidebar-item\",\"children\":\"12-testing-best-practices\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/java/13-domain-modeling-best-practices\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/java/13-domain-modeling-best-practices\",\"className\":\"sidebar-item\",\"children\":\"13-domain-modeling-best-practices\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/java/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/java/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/python\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/python\",\"className\":\"sidebar-item\",\"children\":\"python\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/python/02-money-value-object\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/python/02-money-value-object\",\"className\":\"sidebar-item\",\"children\":\"02-money-value-object\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/python/03-order-entity\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/python/03-order-entity\",\"className\":\"sidebar-item\",\"children\":\"03-order-entity\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/python/04-email-address-value-object\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/python/04-email-address-value-object\",\"className\":\"sidebar-item\",\"children\":\"04-email-address-value-object\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/python/05-pricing-service\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/python/05-pricing-service\",\"className\":\"sidebar-item\",\"children\":\"05-pricing-service\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/python/06-customer-module\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/python/06-customer-module\",\"className\":\"sidebar-item\",\"children\":\"06-customer-module\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/python/07-order-tests\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/python/07-order-tests\",\"className\":\"sidebar-item\",\"children\":\"07-order-tests\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/python/08-money-tests\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/python/08-money-tests\",\"className\":\"sidebar-item\",\"children\":\"08-money-tests\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/python/09-pricing-service-tests\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/python/09-pricing-service-tests\",\"className\":\"sidebar-item\",\"children\":\"09-pricing-service-tests\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/python/11-testing-anti-patterns\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/python/11-testing-anti-patterns\",\"className\":\"sidebar-item\",\"children\":\"11-testing-anti-patterns\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/python/12-testing-best-practices\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/python/12-testing-best-practices\",\"className\":\"sidebar-item\",\"children\":\"12-testing-best-practices\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/python/13-domain-modeling-best-practices\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/python/13-domain-modeling-best-practices\",\"className\":\"sidebar-item\",\"children\":\"13-domain-modeling-best-practices\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/python/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/python/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/typescript\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/typescript\",\"className\":\"sidebar-item\",\"children\":\"typescript\"}],[\"$\",\"div\",null,{\"className\":\"ml-4 mt-1\",\"children\":[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/typescript/02-money-value-object\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/typescript/02-money-value-object\",\"className\":\"sidebar-item\",\"children\":\"02-money-value-object\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/typescript/03-order-entity\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/typescript/03-order-entity\",\"className\":\"sidebar-item\",\"children\":\"03-order-entity\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/typescript/04-email-address-value-object\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/typescript/04-email-address-value-object\",\"className\":\"sidebar-item\",\"children\":\"04-email-address-value-object\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/typescript/05-pricing-service\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/typescript/05-pricing-service\",\"className\":\"sidebar-item\",\"children\":\"05-pricing-service\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/typescript/06-customer-module\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/typescript/06-customer-module\",\"className\":\"sidebar-item\",\"children\":\"06-customer-module\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/typescript/07-order-tests\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/typescript/07-order-tests\",\"className\":\"sidebar-item\",\"children\":\"07-order-tests\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/typescript/08-money-tests\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/typescript/08-money-tests\",\"className\":\"sidebar-item\",\"children\":\"08-money-tests\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/typescript/09-pricing-service-tests\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/typescript/09-pricing-service-tests\",\"className\":\"sidebar-item\",\"children\":\"09-pricing-service-tests\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/typescript/11-testing-anti-patterns\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/typescript/11-testing-anti-patterns\",\"className\":\"sidebar-item\",\"children\":\"11-testing-anti-patterns\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/typescript/12-testing-best-practices\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/typescript/12-testing-best-practices\",\"className\":\"sidebar-item\",\"children\":\"12-testing-best-practices\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/typescript/13-domain-modeling-best-practices\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/typescript/13-domain-modeling-best-practices\",\"className\":\"sidebar-item\",\"children\":\"13-domain-modeling-best-practices\"}],false]}],[\"$\",\"li\",\"/docs/2-Domain-Driven-Design/code-samples/typescript/README\",{\"children\":[[\"$\",\"$L9\",null,{\"href\":\"/docs/2-Domain-Driven-Design/code-samples/typescript/README\",\"className\":\"sidebar-item\",\"children\":\"README\"}],false]}]]}]}]]}]]}]}]]}]]}]}]]}]]}]]}]}],[\"$\",\"main\",null,{\"className\":\"main-content\",\"children\":[\"$\",\"div\",null,{\"className\":\"content-wrapper\",\"children\":[[\"$\",\"div\",null,{\"className\":\"page-header\",\"children\":[\"$\",\"h1\",null,{\"className\":\"page-title\",\"children\":\"09-pricing-service-tests\"}]}],[\"$\",\"div\",null,{\"className\":\"prose prose-lg max-w-none\",\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$a\"}}]}]]}]}]]}],null],\"segment\":\"__PAGE__?{\\\"slug\\\":[\\\"2-Domain-Driven-Design\\\",\\\"code-samples\\\",\\\"python\\\",\\\"09-pricing-service-tests\\\"]}\"},\"styles\":[]}],\"segment\":[\"slug\",\"2-Domain-Driven-Design/code-samples/python/09-pricing-service-tests\",\"c\"]},\"styles\":[]}],\"segment\":\"docs\"},\"styles\":[]}]}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"4:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Engineering 101\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"SOLID + DDD training site\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:null\n"])</script></body></html>